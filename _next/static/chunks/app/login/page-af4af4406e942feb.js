(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{251:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,AuthProvider:()=>l});var r=s(6027),a=s(7307);let n=(0,a.createContext)(void 0),i=[{id:"1",username:"demo_user",password:"123456",email:"demo@example.com",avatar:"/placeholder-user.svg",bio:"情绪专家 / 热心小助手",interests:["心理学","阅读","音乐"]},{id:"2",username:"test",password:"test123",email:"test@example.com",avatar:"/placeholder-user.svg",bio:"心理健康爱好者",interests:["冥想","瑜伽","写作"]}];function l(e){let{children:t}=e,[s,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("currentUser");e&&l(JSON.parse(e))},[]);let o=async(e,t)=>{await new Promise(e=>setTimeout(e,1e3));let s=i.find(s=>s.username===e&&s.password===t);if(s){let e={id:s.id,username:s.username,email:s.email,avatar:s.avatar,bio:s.bio,interests:s.interests};return l(e),localStorage.setItem("currentUser",JSON.stringify(e)),!0}return!1};return(0,r.jsx)(n.Provider,{value:{user:s,login:o,logout:()=>{l(null),localStorage.removeItem("currentUser")},isAuthenticated:!!s},children:t})}function o(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1006:(e,t,s)=>{Promise.resolve().then(s.bind(s,4399))},2560:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(6027),a=s(7307),n=s(7349),i=s(6084),l=s(6383);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,x=d?n.DX:"button";return(0,r.jsx)(x,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"},2806:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(6027),a=s(5684),n=s.n(a),i=s(9753),l=s(6383);function o(){let e=(0,i.usePathname)(),t=[{name:"首页",href:"/",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,r.jsx)("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,r.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{name:"社区",href:"/community",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,r.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,r.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,r.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,r.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{name:"对话",href:"/chat",icon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{name:"测试",href:"/test",icon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{name:"资源",href:"/resources",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,r.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,r.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})},{name:"我的",href:"/profile",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,r.jsx)("circle",{cx:"12",cy:"8",r:"5"}),(0,r.jsx)("path",{d:"M20 21a8 8 0 1 0-16 0"})]})}];return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around items-center h-16 z-50",children:t.map(t=>{let s="/"===t.href?"/"===e:e.startsWith(t.href);return(0,r.jsxs)(n(),{href:t.href,className:(0,l.cn)("flex flex-col items-center justify-center w-full h-full",s?"text-amber-500":"text-gray-500 hover:text-gray-900"),children:[t.icon,(0,r.jsx)("span",{className:"text-xs mt-1",children:t.name})]},t.href)})})}},4399:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(6027),a=s(5684),n=s.n(a),i=s(2560),l=s(5420),o=s(7307),d=s(2719),c=s(3418),x=s(6383);let m=o.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(d.bL,{ref:t,className:(0,x.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(d.C1,{className:(0,x.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})})});m.displayName=d.bL.displayName;var h=s(8475),u=s(5403),f=s(835),g=s(9753),p=s(251),b=s(2806);function v(){let e=(0,g.useRouter)(),{login:t}=(0,p.A)(),[s,a]=(0,o.useState)(!1),[d,c]=(0,o.useState)(""),[x,v]=(0,o.useState)(""),[j,w]=(0,o.useState)(!1),[y,N]=(0,o.useState)(""),[k,C]=(0,o.useState)(!1),D=async()=>{if(!d.trim()||!x.trim()){N("请输入用户名和密码");return}w(!0),N("");try{await t(d,x)?e.push("/"):N("用户名或密码错误")}catch(e){N("登录失败，请重试")}finally{w(!1)}};return(0,r.jsxs)("main",{className:"min-h-screen flex items-center justify-center py-6",style:{background:"linear-gradient(135deg, #fce4ec 0%, #e3f2fd 100%)"},children:[(0,r.jsxs)("div",{className:"w-full max-w-5xl mx-4 flex flex-col md:flex-row bg-white/95 rounded-3xl overflow-hidden shadow-lg",style:{boxShadow:"0 15px 35px rgba(255, 107, 107, 0.1)"},children:[(0,r.jsx)("div",{className:"md:hidden w-full relative overflow-hidden",style:{height:"180px"},children:(0,r.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(252, 228, 236, 0.9) 0%, rgba(227, 242, 253, 0.9) 100%)",height:"100%",width:"100%",position:"relative",overflow:"hidden"},children:[(0,r.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)("img",{src:"/树.png",alt:"Logo",className:"w-20 h-20 rounded-full shadow-md",style:{boxShadow:"0 8px 16px rgba(255, 107, 107, 0.2)"}})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"WELCOME~"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"探索心灵的智慧之语"})]}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:(0,r.jsx)("div",{className:"absolute",style:{background:"url('/树.png') center/150% no-repeat",width:"200%",height:"200%",top:"-50%",left:"-50%",opacity:"0.08",animation:"gentle-float 15s ease-in-out infinite"}})})]})}),(0,r.jsxs)("div",{className:"w-1/2 relative overflow-hidden hidden md:block",style:{background:"linear-gradient(135deg, rgba(252, 228, 236, 0.9) 0%, rgba(227, 242, 253, 0.9) 100%)"},children:[(0,r.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center p-10",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("img",{src:"/树.png",alt:"Logo",className:"w-28 h-28 rounded-full shadow-md",style:{boxShadow:"0 8px 16px rgba(255, 107, 107, 0.2)"}})}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"WELCOME~"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-10",children:"探索心灵的智慧之语"}),(0,r.jsxs)("div",{className:"space-y-4 w-full max-w-xs",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 px-6 py-3 bg-white/10 rounded-full backdrop-blur-sm transition transform hover:translate-x-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF1F"}),(0,r.jsx)("span",{className:"text-gray-700",children:"心理测评"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 px-6 py-3 bg-white/10 rounded-full backdrop-blur-sm transition transform hover:translate-x-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAD"}),(0,r.jsx)("span",{className:"text-gray-700",children:"心灵智语"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 px-6 py-3 bg-white/10 rounded-full backdrop-blur-sm transition transform hover:translate-x-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCDA"}),(0,r.jsx)("span",{className:"text-gray-700",children:"在线咨询"})]})]})]}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:(0,r.jsx)("div",{className:"absolute",style:{background:"url('/树.png') center/200% no-repeat",width:"300%",height:"300%",top:"-100%",left:"-100%",opacity:"0.08",animation:"gentle-float 20s ease-in-out infinite"}})})]}),(0,r.jsxs)("div",{className:"w-full md:w-1/2 p-6 md:p-12 bg-white/95 relative z-10",children:[(0,r.jsx)("div",{className:"md:hidden flex justify-start mb-4",children:(0,r.jsx)("button",{onClick:()=>e.back(),className:"p-2",children:(0,r.jsx)(h.A,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{className:"text-center mb-6 md:mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"登录"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1 md:mt-2 text-sm md:text-base",children:"欢迎回来，请登录您的账号"})]}),(0,r.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.p,{placeholder:"用户名",className:"pl-10 h-11 md:h-12 border-2 border-gray-200 rounded-xl focus:border-[#ff6b6b] focus:ring focus:ring-[rgba(255,107,107,0.1)]",value:d,onChange:e=>c(e.target.value)}),(0,r.jsx)("span",{className:"absolute left-3 top-3 md:top-3.5 text-gray-400",children:"\uD83D\uDC64"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.p,{type:s?"text":"password",placeholder:"密码",className:"pl-10 h-11 md:h-12 border-2 border-gray-200 rounded-xl focus:border-[#ff6b6b] focus:ring focus:ring-[rgba(255,107,107,0.1)]",value:x,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&D()}),(0,r.jsx)("span",{className:"absolute left-3 top-3 md:top-3.5 text-gray-400",children:"\uD83D\uDD12"}),(0,r.jsx)("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-3 md:top-3.5 text-gray-400",children:s?(0,r.jsx)(u.A,{size:18}):(0,r.jsx)(f.A,{size:18})})]}),y&&(0,r.jsx)("div",{className:"text-red-500 text-xs md:text-sm text-center",children:y}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m,{id:"remember",checked:k,onCheckedChange:e=>C(!!e),className:"border-2 border-gray-300 text-[#ff6b6b] focus:ring-[rgba(255,107,107,0.1)]"}),(0,r.jsx)("label",{htmlFor:"remember",className:"text-xs md:text-sm text-gray-600",children:"记住我"})]}),(0,r.jsx)(n(),{href:"/forgot-password",className:"text-xs md:text-sm text-[#ff6b6b] hover:underline hover:text-[#ff4757]",children:"忘记密码？"})]}),(0,r.jsxs)(i.$,{className:"w-full h-10 md:h-12 text-sm md:text-base bg-[#ff6b6b] hover:bg-[#ff4757] transition-all transform hover:translate-y-[-2px] flex items-center justify-center gap-2",onClick:D,disabled:j,children:[(0,r.jsx)("span",{children:j?"登录中...":"登录"}),(0,r.jsx)("span",{className:"transition-transform group-hover:translate-x-1",children:"→"})]}),(0,r.jsxs)("div",{className:"text-center mt-3 md:mt-4 text-xs md:text-sm text-gray-500",children:["还没有账号？"," ",(0,r.jsx)(n(),{href:"/register",className:"text-[#4CAF50] font-medium hover:underline",children:"立即注册"})]})]}),(0,r.jsxs)("div",{className:"mt-6 md:mt-8 bg-amber-50 border border-amber-200 rounded-lg p-3 md:p-4",children:[(0,r.jsx)("h3",{className:"text-xs md:text-sm font-medium text-amber-800 mb-1 md:mb-2",children:"演示账号"}),(0,r.jsxs)("div",{className:"text-xs text-amber-700 space-y-0.5 md:space-y-1",children:[(0,r.jsx)("div",{children:"用户名: demo_user 密码: 123456"}),(0,r.jsx)("div",{children:"用户名: test 密码: test123"})]})]})]})]}),(0,r.jsx)(b.A,{})]})}},5420:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(6027),a=s(7307),n=s(6383);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},6383:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(50),a=s(6011);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[691,868,545,80,358],()=>t(1006)),_N_E=e.O()}]);